$(document).ready(function(){$(document).mouseup(function(e){var t=$(".custom-menu-content")
$(".glyphicon-th").is(e.target)||t.is(e.target)||0!==t.has(e.target).length||t.addClass("hidden")}),$(".glyphicon-th").click(function(){$(".custom-menu-content").toggleClass("hidden")}),$(".menu-options").click(function(){var e=$(this).data("item")
$(".placeholder").text(e),$("input[name='img-default']").val(e).trigger("change")}),$(".font-options").click(function(){var e=$(this).data("item")
$(".placeholder2").text(e),$("input[name='custfont']").val(e)}),$("#picker").minicolors({control:"hue",format:"hex",defaultValue:"",letterCase:"lowercase",position:"bottom left",theme:"bootstrap"}),$("#text-picker").minicolors({control:"hue",format:"hex",defaultValue:"#ffffff",letterCase:"lowercase",position:"bottom left",theme:"bootstrap"})
$.ajax({url:"https://api.github.com/repos/fossasia/badgeyay/git/refs/heads/development",async:!0,success(e){if(void 0!==e.object&&void 0!==e.object.sha){var t=e.object.sha,i="https://github.com/fossasia/badgeyay/tree/"+t
$(".version").attr("href",i).html(t)}else $(".version").html("Failed to access version")},error(e){$(".version").html("Failed to access version")}}),$("#imageFile").change(function(){(function(e){if(e.files&&e.files[0]){var t=new FileReader
t.onload=function(e){$("#preview").css("background","url("+e.target.result+")"),$("#preview").css("background-size","cover"),$("#preview-btn").prop("disabled",!1)},t.readAsDataURL(e.files[0])}})(this)}),$("#picker").change(function(){$("#preview-btn").prop("disabled",!1),$("#preview").css("background","")}),$("input[name=img-default]").change(function(){$("#preview-btn").prop("disabled",!1),$("#picker").val("")})
var e=!0
$("#preview-btn").on("click",function(t){var i,o
if($("#preview").toggleClass("hidden"),e=!e,console.log(e),e)$("#preview-btn")[0].innerHTML="Preview"
else if($("#preview-btn")[0].innerHTML="Close Preview",""!==$("#picker").val()?(i=$("#picker").val(),$("#preview").css("background-color",i.toString())):""!==$("input[name=img-default]").val()&&(i="http://localhost:5000/static/uploads/"+$("input[name=img-default]").val(),$("#preview").css("background","url("+i+")"),$("#preview").css("background-size","cover")),"Select a font"!==$(".placeholder2")[0].innerText&&(o=$(".placeholder2")[0].innerText,$(".preview-image-li").css("font-family",o.toString())),""!==$("#text-picker").val()){var a=$("#text-picker").val()
$(".preview-image-li").css("color",a.toString())}}),$("#text-input").on("keyup",function(){var e=$("#textArea").val()
e=e.split("\n")[0].split(","),$("#preview-li-1").text(e[0]),$("#preview-li-2").text(e[1]),$("#preview-li-3").text(e[2]),$("#preview-li-4").text(e[3]),$("#preview-li-5").text(e[4])}),$("#form1").submit(function(e){$("#preview").addClass("hidden")})})
